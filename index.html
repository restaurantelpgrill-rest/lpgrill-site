<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
<title>restaurante lp-grill ‚Äî App de Pedidos</title>
<meta name="theme-color" content="#0b0b0b"/>

<style>
  :root{
    --bg:#0b0b0b;
    --panel:#141414;
    --panel2:#101010;
    --text:#ffffff;
    --muted:#bdbdbd;
    --line:#242424;

    --red:#ff1e1e;
    --good:#25d366;

    --shadow: 0 18px 50px rgba(0,0,0,.45);
    --radius:18px;

    --glow: 0 0 18px rgba(255,30,30,.18), 0 0 42px rgba(255,30,30,.08);
    --glowStrong: 0 0 22px rgba(255,30,30,.28), 0 0 70px rgba(255,30,30,.10);

    --topbarH:86px;
  }

  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: radial-gradient(1200px 600px at 10% -10%, rgba(255,30,30,.14), transparent 60%),
                radial-gradient(900px 500px at 90% 10%, rgba(255,30,30,.08), transparent 55%),
                var(--bg);
    color:var(--text);
    overflow-x:hidden;
  }

  /* Mockup marca d'√°gua tela toda */
  body::before{
    content:"";
    position:fixed;
    inset:0;
    background:url("mockup.png") center/cover no-repeat;
    opacity:0.09;
    filter: saturate(1.05) contrast(1.03);
    pointer-events:none;
    z-index:-2;
  }
  /* Vinheta premium */
  body::after{
    content:"";
    position:fixed;
    inset:0;
    background:
      radial-gradient(900px 500px at 50% 0%, rgba(0,0,0,.25), transparent 55%),
      linear-gradient(180deg, rgba(0,0,0,.50), rgba(0,0,0,.12) 40%, rgba(0,0,0,.60));
    pointer-events:none;
    z-index:-1;
  }

  /* Topbar */
  .topbar{
    position:fixed;
    top:0; left:0; right:0;
    height:var(--topbarH);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:14px;
    padding:0 16px;
    background:rgba(0,0,0,.72);
    backdrop-filter: blur(12px);
    border-bottom:1px solid rgba(255,255,255,.08);
    z-index:999;
  }
  .brandLeft{
    display:flex;
    align-items:center;
    gap:12px;
    min-width:0;
  }
  .brandTitle{
    display:flex;
    flex-direction:column;
    gap:3px;
    min-width:0;
  }
  .brandTitle .name{
    font-weight:1000;
    letter-spacing:.2px;
    font-size:14px;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .brandTitle .addr{
    font-size:12px;
    color:var(--muted);
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
  .logo{
    height:66px;
    width:auto;
    border-radius:14px;
    padding:8px 12px;
    background:rgba(0,0,0,.35);
    border:1px solid rgba(255,255,255,.10);
    box-shadow: var(--shadow);
  }
  .tools{
    display:flex;
    align-items:center;
    gap:10px;
  }
  .toolBtn{
    border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.05);
    color:#fff;
    border-radius:14px;
    padding:10px 12px;
    font-weight:1000;
    font-size:12.5px;
    cursor:pointer;
    transition:.18s ease;
    white-space:nowrap;
  }
  .toolBtn:hover{
    border-color: rgba(255,30,30,.55);
    background: rgba(255,30,30,.10);
    box-shadow: var(--glow);
    transform: translateY(-1px);
  }
  .topbar-spacer{height:var(--topbarH);}

  /* Status bar */
  .statusBar{
    max-width:1250px;
    margin:14px auto 0;
    padding:0 20px;
  }
  .statusPill{
    padding:12px 14px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(0,0,0,.25);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    box-shadow: 0 16px 40px rgba(0,0,0,.35);
  }
  .statusPill .left{
    display:flex;
    flex-direction:column;
    gap:4px;
  }
  .statusPill .left .t1{font-weight:1000}
  .statusPill .left .t2{font-size:12.5px; color:var(--muted); line-height:1.3}
  .statusTag{
    padding:8px 12px;
    border-radius:999px;
    font-weight:1000;
    font-size:12px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(255,255,255,.04);
    white-space:nowrap;
  }
  .open{border-color: rgba(37,211,102,.35); background: rgba(37,211,102,.10);}
  .closed{border-color: rgba(255,30,30,.35); background: rgba(255,30,30,.12);}

  /* banner */
  .bannerWrap{
    max-width:1250px;
    margin:14px auto 0;
    padding:0 20px;
  }
  .banner{
    padding:14px 16px;
    border-radius:18px;
    background:linear-gradient(90deg,#4d0000,#ff1e1e);
    font-weight:1000;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    box-shadow: var(--glow);
  }
  .banner small{
    font-size:12.5px;
    opacity:.95;
    font-weight:900;
  }

  /* Home cards */
  .home{
    max-width:1250px;
    margin:18px auto 0;
    padding:0 20px;
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:14px;
  }
  @media (max-width: 980px){
    .home{grid-template-columns:1fr}
  }
  .appCard{
    padding:18px;
    border-radius:20px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(20,20,20,.88);
    cursor:pointer;
    transition:.18s ease;
    box-shadow: 0 18px 50px rgba(0,0,0,.35);
  }
  .appCard:hover{
    transform:translateY(-2px);
    border-color: rgba(255,30,30,.60);
    box-shadow: var(--glow);
    background: rgba(255,30,30,.06);
  }
  .appCard .h{
    font-weight:1000;
    font-size:16px;
    margin:0 0 6px;
  }
  .appCard .p{
    margin:0;
    color:var(--muted);
    font-size:13px;
    line-height:1.35;
  }

  /* Layout main */
  .wrap{
    max-width:1250px;
    margin:0 auto;
    padding:22px 20px 150px;
    display:grid;
    grid-template-columns: 1.25fr .85fr;
    gap:22px;
  }
  @media (max-width: 980px){
    .wrap{grid-template-columns:1fr}
  }

  .card{
    background: linear-gradient(180deg, rgba(20,20,20,.92), rgba(12,12,12,.88));
    border:1px solid rgba(255,255,255,.08);
    border-radius:var(--radius);
    padding:22px;
    box-shadow: var(--shadow);
    position:relative;
    overflow:hidden;
  }
  .card::before{
    content:"";
    position:absolute;
    inset:-1px;
    background:
      radial-gradient(600px 300px at 0% 0%, rgba(255,30,30,.12), transparent 50%),
      radial-gradient(600px 300px at 100% 20%, rgba(255,30,30,.08), transparent 55%);
    pointer-events:none;
    opacity:.9;
  }
  .card > *{position:relative; z-index:1}

  h2{
    margin:0 0 10px;
    font-size:16.5px;
    color:var(--red);
    letter-spacing:.2px;
  }
  .muted{color:var(--muted); font-size:13px; line-height:1.45}
  .hr{height:1px; background:rgba(255,255,255,.08); margin:16px 0}

  .tag{
    padding:7px 11px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(0,0,0,.25);
    font-weight:1000;
    font-size:12px;
    white-space:nowrap;
  }
  .tag.red{
    border-color: rgba(255,30,30,.55);
    background: rgba(255,30,30,.12);
    box-shadow: var(--glow);
  }

  /* qty */
  .qtyRow{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:14px;
    padding:16px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(255,255,255,.03);
    transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
  }
  .qtyRow:hover{
    transform: translateY(-1px);
    border-color: rgba(255,30,30,.45);
    background: rgba(255,30,30,.06);
    box-shadow: var(--glow);
  }
  .qtyRow .left{display:flex; flex-direction:column; gap:6px}
  .qtyRow .left .name{font-weight:1000; font-size:14px}
  .qtyRow .left .desc{font-size:12.5px; color:var(--muted); line-height:1.25}
  .qtyRow .right{display:flex; align-items:center; gap:10px}
  .btnMini{
    width:46px;
    height:46px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(0,0,0,.25);
    color:#fff;
    font-weight:1000;
    font-size:18px;
    cursor:pointer;
    transition: transform .12s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
    box-shadow: 0 10px 18px rgba(0,0,0,.25);
  }
  .btnMini:hover{
    transform: translateY(-1px) scale(1.02);
    border-color: rgba(255,30,30,.65);
    background: rgba(255,30,30,.10);
    box-shadow: var(--glowStrong);
  }
  .btnMini:active{ transform: scale(.98); }
  .qtyNum{min-width:40px; text-align:center; font-weight:1000; font-size:16px}

  /* pick items */
  .checklist{display:grid; gap:12px; margin-top:12px}
  .pick{
    padding:16px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(255,255,255,.03);
    cursor:pointer;
    transition: transform .16s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    user-select:none;
  }
  .pick:hover{
    transform: translateY(-1px);
    border-color: rgba(255,30,30,.55);
    background: rgba(255,30,30,.06);
    box-shadow: var(--glow);
  }
  .pick.active{
    border-color: rgba(255,30,30,.92);
    background: rgba(255,30,30,.12);
    box-shadow: var(--glowStrong);
  }
  .pick .name{font-weight:1000; font-size:14px}
  .pick .right{font-weight:1000; font-size:12px; color:rgba(255,255,255,.9)}

  .locked{opacity:.55; pointer-events:none; filter: grayscale(.15);}

  /* extras rows */
  .addRow{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:14px;
    padding:16px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(255,255,255,.03);
    transition: transform .16s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
  }
  .addRow:hover{
    transform: translateY(-1px);
    border-color: rgba(255,30,30,.45);
    background: rgba(255,30,30,.06);
    box-shadow: var(--glow);
  }
  .addRow .info{display:flex; flex-direction:column; gap:6px}
  .addRow .info .name{font-weight:1000}
  .addRow .info .price{color:var(--muted); font-size:12.5px; font-weight:900}
  .step{display:flex; align-items:center; gap:10px}

  /* fields */
  .field{display:grid; gap:7px; margin:12px 0}
  .field label{font-size:12.5px; color:#eaeaea; font-weight:1000}
  .field input, .field textarea, .field select{
    width:100%;
    padding:12px 13px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(0,0,0,.25);
    color:#fff;
    outline:none;
    transition: border-color .18s ease, box-shadow .18s ease;
  }
  .field input:focus, .field textarea:focus, .field select:focus{
    border-color: rgba(255,30,30,.55);
    box-shadow: var(--glow);
  }
  .field textarea{min-height:92px; resize:vertical}

  /* summary */
  .summary{position:sticky; top:calc(var(--topbarH) + 16px); display:grid; gap:14px}
  @media (max-width: 980px){
    .summary{position:static}
  }
  .totalBox{
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    padding:14px;
    border-radius:16px;
    border:1px solid rgba(255,30,30,.35);
    background:rgba(255,30,30,.10);
    box-shadow: var(--glow);
  }
  .totalBox .t1{font-weight:1000}
  .totalBox .t2{font-weight:1000; font-size:22px}

  .lineItem{
    display:flex;
    justify-content:space-between;
    gap:10px;
    padding:11px 0;
    border-bottom:1px solid rgba(255,255,255,.06);
    font-size:13.5px;
  }
  .lineItem:last-child{border-bottom:none}
  .lineItem .l{color:#eaeaea; font-weight:900}
  .lineItem .r{color:#fff; font-weight:1000}

  .miniBox{
    padding:14px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(0,0,0,.22);
  }
  .miniBox h4{
    margin:0 0 10px;
    font-size:13.5px;
    color:#fff;
    letter-spacing:.2px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
  }
  .boxText{
    width:100%;
    min-height:120px;
    padding:14px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(0,0,0,.25);
    color:#fff;
    outline:none;
    resize:vertical;
    font-size:13.5px;
    line-height:1.4;
  }

  /* Confirm montado */
  .confirmBox{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
    justify-content:space-between;
  }

  /* Buttons */
  .btn{
    width:100%;
    border:none;
    padding:15px 16px;
    border-radius:16px;
    font-weight:1000;
    cursor:pointer;
    transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
  }
  .btn:active{transform:scale(.99)}
  .btn-wa{
    background: linear-gradient(180deg, #2bff7e, #19c85e);
    color:#062b14;
    box-shadow: 0 18px 40px rgba(37,211,102,.18);
  }
  .btn-wa:hover{filter:brightness(1.04)}
  .btn-ghost{
    background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.14);
    color:#fff;
  }
  .btn-ghost:hover{filter:brightness(1.04)}

  .warn{
    padding:12px 14px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(0,0,0,.22);
    color:#eaeaea;
    font-size:12.5px;
    line-height:1.35;
  }

  /* Fixed finalize bar */
  .finalBar{
    position:fixed;
    bottom:0; left:0; right:0;
    padding:12px;
    background:rgba(0,0,0,.85);
    border-top:1px solid rgba(255,255,255,.10);
    z-index:1200;
  }
  .finalInner{
    max-width:1250px;
    margin:0 auto;
    padding:0 8px;
    display:flex;
    gap:12px;
    align-items:center;
  }
  .finalInner .miniTotal{
    flex:1;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background:rgba(255,255,255,.04);
    padding:12px 14px;
  }
  .finalInner .miniTotal .a{font-weight:1000; font-size:12.5px; color:var(--muted)}
  .finalInner .miniTotal .b{font-weight:1000; font-size:18px; margin-top:2px}
  .finalInner .finalBtn{
    width:auto;
    min-width:220px;
  }
  @media (max-width: 980px){
    .finalInner{padding:0}
    .finalInner .finalBtn{min-width:160px}
  }

  /* Toast */
  #toast{
    position:fixed;
    left:50%;
    bottom:92px;
    transform:translateX(-50%);
    background:rgba(0,0,0,.85);
    border:1px solid rgba(255,255,255,.12);
    color:#fff;
    padding:12px 14px;
    border-radius:16px;
    font-weight:1000;
    box-shadow: 0 20px 50px rgba(0,0,0,.45);
    z-index:4000;
    max-width:92vw;
    opacity:0;
    transition: opacity .18s ease;
    pointer-events:none;
  }

  /* Splash */
  .splash{
    position:fixed;
    inset:0;
    background: radial-gradient(900px 500px at 20% 10%, rgba(255,30,30,.18), transparent 55%),
                linear-gradient(180deg, rgba(0,0,0,.92), rgba(0,0,0,.86));
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:3000;
    transition: opacity .35s ease;
  }
  .splash.hide{opacity:0; pointer-events:none;}
  .splashBox{
    width:min(520px, 92vw);
    background:rgba(12,12,12,.72);
    border:1px solid rgba(255,255,255,.10);
    border-radius:20px;
    padding:22px;
    box-shadow: var(--shadow);
    text-align:center;
  }
  .splashLogo{
    height:62px;
    width:auto;
    padding:10px 14px;
    border-radius:16px;
    background:rgba(0,0,0,.35);
    border:1px solid rgba(255,255,255,.10);
    box-shadow: var(--glow);
  }
  .loader{
    margin:16px auto 8px;
    width:56px; height:56px;
    border-radius:50%;
    border:4px solid rgba(255,255,255,.12);
    border-top-color: rgba(255,30,30,.85);
    animation: spin 1s linear infinite;
  }
  @keyframes spin{ to{ transform: rotate(360deg);} }

  /* Copy PIX */
  .pixRow{
    display:flex;
    gap:10px;
    align-items:center;
  }
  .pixRow input{
    flex:1;
    padding:12px 13px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.12);
    background:rgba(0,0,0,.25);
    color:#fff;
    outline:none;
  }
  .smallBtn{
    padding:12px 14px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.14);
    background:rgba(255,255,255,.06);
    color:#fff;
    font-weight:1000;
    cursor:pointer;
    transition:.18s ease;
    white-space:nowrap;
  }
  .smallBtn:hover{
    border-color: rgba(255,30,30,.55);
    background: rgba(255,30,30,.10);
    box-shadow: var(--glow);
    transform: translateY(-1px);
  }
</style>
</head>

<body>

<div class="splash" id="splash">
  <div class="splashBox">
    <img class="splashLogo" src="LOGO.PNG" alt="Logo">
    <div class="loader"></div>
    <div style="font-weight:1000; margin-top:6px;">Carregando card√°pio‚Ä¶</div>
    <div class="muted">Pedido r√°pido pelo WhatsApp.</div>
  </div>
</div>

<div class="topbar">
  <div class="brandLeft">
    <img class="logo" src="LOGO.PNG" alt="Logo">
    <div class="brandTitle">
      <div class="name">restaurante lp-grill</div>
      <div class="addr">(em breve em Jana√∫ba ‚Äì MG)</div>
    </div>
  </div>
  <div class="tools">
    <button class="toolBtn" onclick="go('#marmitas')">Pedir</button>
    <button class="toolBtn" onclick="go('#dados')">Entrega</button>
    <button class="toolBtn" onclick="go('#resumo')">Resumo</button>
  </div>
</div>
<div class="topbar-spacer"></div>

<div class="statusBar">
  <div class="statusPill">
    <div class="left">
      <div class="t1" id="statusTitle">Verificando hor√°rio‚Ä¶</div>
      <div class="t2">Funcionamento: <b>11:00‚Äì15:00</b> ‚Ä¢ Fora do hor√°rio: aceita agendamento pelo WhatsApp</div>
    </div>
    <div class="statusTag" id="statusTag">‚Äî</div>
  </div>
</div>

<div class="bannerWrap">
  <div class="banner">
    <div>üî• Promo do dia: <b>Frango assado + batata frita</b></div>
    <small>Prazo m√©dio: 30 min ‚Ä¢ Taxa entrega: R$ 5,00</small>
  </div>
</div>

<div class="home">
  <div class="appCard" onclick="go('#marmitas')">
    <div class="h">üç± Escolher marmitas</div>
    <p class="p">Prato do Dia ‚Ä¢ Cl√°ssico ‚Ä¢ Montado (personalizado)</p>
  </div>
  <div class="appCard" onclick="go('#montado')">
    <div class="h">üß© Montar meu prato</div>
    <p class="p">Clique nos itens (limite 8) e confirme.</p>
  </div>
  <div class="appCard" onclick="go('#dados')">
    <div class="h">üöö Entrega & pagamento</div>
    <p class="p">Endere√ßo ‚Ä¢ refer√™ncia ‚Ä¢ PIX copiar e colar.</p>
  </div>
</div>

<div class="wrap">

  <!-- LEFT -->
  <div>

    <!-- MARMITAS -->
    <div class="card" id="marmitas">
      <h2>üç± Marmitas</h2>
      <div class="muted">
        Marmitex pronto: <b>R$ 18,00</b> ‚Ä¢ Montado: <b>R$ 21,00</b> ‚Ä¢ Adicional carne: <b>+ R$ 4,00</b>
      </div>

      <div class="hr"></div>

      <div style="display:flex; justify-content:space-between; gap:12px; align-items:flex-start;">
        <div>
          <div style="font-weight:1000; font-size:14px;">üçõ Marmitex do Dia ‚Äî R$ 18,00</div>
          <div class="muted" style="margin-top:6px;">
            Arroz, feij√£o, macarr√£o, batata frita, frango assado, salada (alface e tomate).
          </div>
        </div>
        <div class="tag">fixo</div>
      </div>

      <div class="qtyRow" style="margin-top:12px;">
        <div class="left">
          <div class="name">Quantidade</div>
          <div class="desc">Prato do Dia (pronto)</div>
        </div>
        <div class="right">
          <button class="btnMini" onclick="qtyChange('dia', -1)">‚àí</button>
          <div class="qtyNum" id="q_dia">0</div>
          <button class="btnMini" onclick="qtyChange('dia', 1)">+</button>
        </div>
      </div>

      <div class="hr"></div>

      <div style="display:flex; justify-content:space-between; gap:12px; align-items:flex-start;">
        <div>
          <div style="font-weight:1000; font-size:14px;">ü•ò Marmitex Cl√°ssico ‚Äî R$ 18,00</div>
          <div class="muted" style="margin-top:6px;">
            Arroz, feij√£o, frango com quiabo, angu, couve, salada (tomate).
          </div>
        </div>
        <div class="tag">fixo</div>
      </div>

      <div class="qtyRow" style="margin-top:12px;">
        <div class="left">
          <div class="name">Quantidade</div>
          <div class="desc">Cl√°ssico (pronto)</div>
        </div>
        <div class="right">
          <button class="btnMini" onclick="qtyChange('classico', -1)">‚àí</button>
          <div class="qtyNum" id="q_classico">0</div>
          <button class="btnMini" onclick="qtyChange('classico', 1)">+</button>
        </div>
      </div>

      <div class="hr"></div>

      <div style="display:flex; justify-content:space-between; gap:12px; align-items:flex-start;">
        <div>
          <div style="font-weight:1000; font-size:14px;">üß© Montado ‚Äî R$ 21,00</div>
          <div class="muted" style="margin-top:6px;">
            Selecione os itens abaixo (limite <b>8</b>) e clique em <b>Confirmar Montado</b>.
          </div>
        </div>
        <div class="tag red" id="limitTag">0/8</div>
      </div>

      <div class="qtyRow" style="margin-top:12px;">
        <div class="left">
          <div class="name">Quantidade</div>
          <div class="desc">Montado (personalizado)</div>
        </div>
        <div class="right">
          <button class="btnMini" onclick="qtyChange('montado', -1)">‚àí</button>
          <div class="qtyNum" id="q_montado">0</div>
          <button class="btnMini" onclick="qtyChange('montado', 1)">+</button>
        </div>
      </div>

      <div class="warn" style="margin-top:14px;">
        Para escolher itens do Montado, a quantidade precisa ser <b>maior que 0</b>.
      </div>
    </div>

    <div style="height:16px;"></div>

    <!-- MONTADO ITEMS -->
    <div class="card" id="montado">
      <h2>‚úÖ Itens do Montado</h2>
      <div class="muted">Clique para adicionar/remover. Depois clique em <b>Confirmar Montado</b> para travar.</div>

      <div class="hr"></div>

      <div class="confirmBox">
        <div class="muted">Status: <b id="montadoStatus">Aberto (edit√°vel)</b></div>
        <button class="toolBtn" id="confirmBtn" onclick="toggleConfirmMontado()">Confirmar Montado</button>
      </div>

      <div class="hr"></div>

      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
        <div style="font-weight:1000">üçõ Card√°pio do Dia ‚Äî itens</div>
        <div class="tag">clic√°vel</div>
      </div>
      <div class="checklist" id="list-dia"></div>

      <div class="hr"></div>

      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
        <div style="font-weight:1000">ü•ò Card√°pio Cl√°ssico ‚Äî itens</div>
        <div class="tag">clic√°vel</div>
      </div>
      <div class="checklist" id="list-classico"></div>

      <div class="field" style="margin-top:18px;">
        <label>üìù Observa√ß√£o do Montado (opcional)</label>
        <textarea id="txtMontadoObs" placeholder="Ex: sem macarr√£o, pouco feij√£o, mais salada‚Ä¶"></textarea>
      </div>
    </div>

    <div style="height:16px;"></div>

    <!-- EXTRAS -->
    <div class="card" id="extras">
      <h2>ü•© Adicionais ‚Ä¢ ü•§ Refrigerantes ‚Ä¢ üç¥ Talheres</h2>
      <div class="muted">Adicional de carne: <b>+ R$ 4,00</b> cada.</div>

      <div class="hr"></div>
      <div class="checklist" id="list-carnes"></div>

      <div class="hr"></div>

      <div class="field">
        <label>Refrigerantes</label>
        <select id="selBebida"></select>
      </div>

      <div class="field">
        <label>Talheres</label>
        <select id="selTalher">
          <option value="0">N√£o precisa</option>
          <option value="1">Sim, enviar talher</option>
        </select>
      </div>
    </div>

    <div style="height:16px;"></div>

    <!-- DADOS -->
    <div class="card" id="dados">
      <h2>üöö Entrega ‚Ä¢ üí≥ Pagamento ‚Ä¢ üí† PIX</h2>

      <div class="hr"></div>

      <div class="field">
        <label>Entrega / Retirada</label>
        <select id="selEntrega">
          <option value="0">Retirada no local ‚Äî GR√ÅTIS</option>
          <option value="5">Entrega ‚Äî taxa R$ 5,00</option>
        </select>
      </div>

      <div class="field">
        <label>Forma de pagamento</label>
        <select id="selPagamento">
          <option value="PIX">PIX</option>
          <option value="Dinheiro">Dinheiro</option>
          <option value="Cart√£o">Cart√£o</option>
        </select>
      </div>

      <div class="field">
        <label>üí† PIX (copiar e colar)</label>
        <div class="pixRow">
          <input id="pixKey" value="31998064556" readonly />
          <button class="smallBtn" onclick="copyPix()">Copiar</button>
        </div>
        <div class="muted" style="margin-top:8px;">Chave PIX: <b>31998064556</b></div>
      </div>

      <div class="hr"></div>

      <div class="field">
        <label>Seu nome</label>
        <input id="inpNome" placeholder="Ex: Jo√£o Silva" />
      </div>

      <div class="field">
        <label>N√∫mero de telefone (obrigat√≥rio)</label>
        <input id="inpFone" placeholder="Ex: (31) 9xxxx-xxxx" />
      </div>

      <div class="field">
        <label>Endere√ßo completo (obrigat√≥rio)</label>
        <input id="inpEndereco" placeholder="Rua, n√∫mero, bairro, cidade" />
      </div>

      <div class="field">
        <label>Ponto de refer√™ncia (obrigat√≥rio)</label>
        <input id="inpRef" placeholder="Ex: perto da padaria / port√£o azul" />
      </div>

      <div class="field">
        <label>üìù Observa√ß√£o do pedido (geral)</label>
        <textarea id="txtPedidoObs" placeholder="Ex: chamar no port√£o, sem cebola, etc."></textarea>
      </div>

      <div class="warn">
        ‚úÖ Conferiu? O pedido vai direto pro WhatsApp do restaurante.
      </div>
    </div>
  </div>

  <!-- RIGHT SUMMARY -->
  <div class="summary" id="resumo">
    <div class="card">
      <h2>üí∞ Total & Resumo</h2>

      <div class="totalBox">
        <div>
          <div class="t1">Total</div>
          <div class="muted">base + adicionais + refrigerante + entrega</div>
        </div>
        <div class="t2" id="total">R$ 0,00</div>
      </div>

      <div class="hr"></div>
      <div id="lineItems"></div>

      <div class="hr"></div>

      <div class="miniBox">
        <h4>üßæ Itens do Montado <span class="tag red" id="miniLimit">0/8</span></h4>
        <textarea class="boxText" id="boxCardapio" readonly placeholder="Itens selecionados aparecem aqui‚Ä¶"></textarea>
      </div>

      <div class="hr"></div>

      <button class="btn btn-wa" onclick="enviarWhats()">Enviar pedido no WhatsApp</button>
      <div style="height:10px"></div>
      <button class="btn btn-ghost" onclick="limparTudo()">Limpar tudo</button>
    </div>
  </div>

</div>

<div class="finalBar">
  <div class="finalInner">
    <div class="miniTotal">
      <div class="a">Total do pedido</div>
      <div class="b" id="miniTotal">R$ 0,00</div>
    </div>
    <button class="btn btn-wa finalBtn" onclick="go('#resumo')">Finalizar Pedido</button>
  </div>
</div>

<div id="toast"></div>

<script>
/* ===== CONFIG FIXA LP GRILL ===== */
const CFG = {
  name: "restaurante lp-grill",
  address: "(em breve em Jana√∫ba ‚Äì MG)",
  whatsapp: "5531998064556",
  precoBase: 18,
  precoMontado: 21,
  precoAdd: 4,
  entrega: 5,
  prazo: "30 minutos",
  openHour: 11,
  closeHour: 15,
  itensDia: ["Arroz","Feij√£o","Macarr√£o","Batata frita","Frango assado","Salada (alface e tomate)"],
  itensClassico: ["Arroz","Feij√£o","Frango com quiabo","Angu","Couve","Salada (tomate)"],
  carnes: ["Bife de boi","Bife de porco","Omelete"],
  bebidas: [
    {name:"Nenhum", price:0},
    {name:"Coca-Cola 1L", price:10},
    {name:"Fanta 1L", price:10},
    {name:"Coca-Cola 2L", price:18}
  ],
  pix: "31998064556",
};

/* ===== STATE ===== */
const LIMITE_ITENS = 8;
const qty = { dia:0, classico:0, montado:0 };
let selected = [];                 // keys like "dia:Arroz"
let addMeatQty = {};
let montadoConfirmado = false;

/* ===== HELPERS ===== */
function moeda(v){ return "R$ " + Number(v).toFixed(2).replace(".", ","); }
function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }
function cssSafe(s){ return String(s).replace(/[^a-zA-Z0-9\-_:.]/g, "_"); }
function escHtml(str){
  return String(str).replace(/[&<>"']/g, (m) => ({
    "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
  }[m]));
}
function toast(text){
  const el = document.getElementById("toast");
  el.textContent = text;
  el.style.opacity = "1";
  clearTimeout(window.__t);
  window.__t = setTimeout(()=> el.style.opacity="0", 2200);
}
function go(hash){
  const el = document.querySelector(hash);
  if(!el) return;
  el.scrollIntoView({behavior:"smooth", block:"start"});
}

/* ===== STATUS OPEN/CLOSED (AVISO APENAS) ===== */
function updateStatus(){
  const now = new Date();
  const h = now.getHours();
  const open = CFG.openHour;
  const close = CFG.closeHour;

  const title = document.getElementById("statusTitle");
  const tag = document.getElementById("statusTag");

  if(h >= open && h < close){
    title.textContent = "üü¢ ABERTO agora ‚Äî pode pedir!";
    tag.textContent = "ABERTO";
    tag.className = "statusTag open";
  }else{
    title.textContent = "üî¥ FECHADO ‚Äî aceitando agendamento pelo WhatsApp";
    tag.textContent = "FECHADO";
    tag.className = "statusTag closed";
  }
}

/* ===== RENDER LISTS ===== */
function renderPickList(containerId, items, group){
  const el = document.getElementById(containerId);
  el.innerHTML = "";
  items.forEach(name=>{
    const key = `${group}:${name}`;
    el.innerHTML += `
      <div class="pick" id="${cssSafe(key)}" onclick="togglePick('${key.replace(/'/g,"\\'")}')">
        <div class="name">${escHtml(name)}</div>
        <div class="right">+</div>
      </div>
    `;
  });
}
function renderMeats(){
  const el = document.getElementById("list-carnes");
  el.innerHTML = "";
  addMeatQty = {};
  CFG.carnes.forEach(name=>{
    addMeatQty[name]=0;
    el.innerHTML += `
      <div class="addRow">
        <div class="info">
          <div class="name">${escHtml(name)}</div>
          <div class="price">+ ${moeda(CFG.precoAdd)} cada</div>
        </div>
        <div class="step">
          <button class="btnMini" onclick="meatChange('${name.replace(/'/g,"\\'")}', -1)">‚àí</button>
          <div class="qtyNum" id="m_${cssSafe(name)}">0</div>
          <button class="btnMini" onclick="meatChange('${name.replace(/'/g,"\\'")}', 1)">+</button>
        </div>
      </div>
    `;
  });
}
function renderBebidas(){
  const sel = document.getElementById("selBebida");
  sel.innerHTML = "";
  CFG.bebidas.forEach(b=>{
    const opt = document.createElement("option");
    opt.value = b.price;
    opt.textContent = `${b.name}${b.price>0 ? " ‚Äî " + moeda(b.price) : ""}`;
    sel.appendChild(opt);
  });
}

/* ===== QTY ===== */
function qtyChange(type, delta){
  qty[type] = clamp(qty[type] + delta, 0, 20);
  document.getElementById("q_"+type).textContent = qty[type];

  if(type==="montado" && qty.montado===0){
    selected=[];
    document.getElementById("txtMontadoObs").value="";
    montadoConfirmado=false;
    setMontadoState();
    refreshPicksUI();
  }
  calc();
}

/* ===== CONFIRM MONTADO ===== */
function setMontadoState(){
  const status = document.getElementById("montadoStatus");
  const btn = document.getElementById("confirmBtn");
  const lists = [document.getElementById("list-dia"), document.getElementById("list-classico")];

  if(montadoConfirmado){
    status.textContent = "Confirmado (travado)";
    btn.textContent = "Editar Montado";
    lists.forEach(l=> l.classList.add("locked"));
  }else{
    status.textContent = "Aberto (edit√°vel)";
    btn.textContent = "Confirmar Montado";
    lists.forEach(l=> l.classList.remove("locked"));
  }
}
function toggleConfirmMontado(){
  if(qty.montado===0){
    toast("Aumente a quantidade de Montado (+) primeiro.");
    return;
  }
  if(!montadoConfirmado && selected.length===0){
    toast("Selecione ao menos 1 item para confirmar.");
    return;
  }
  montadoConfirmado = !montadoConfirmado;
  setMontadoState();
  toast(montadoConfirmado ? "Montado confirmado ‚úÖ" : "Montado liberado para edi√ß√£o ‚úçÔ∏è");
}

/* ===== PICK ITEMS ===== */
function togglePick(key){
  if(qty.montado===0){
    toast("Aumente a quantidade de Montado (+) para escolher itens.");
    return;
  }
  if(montadoConfirmado){
    toast("Montado confirmado. Clique em ‚ÄúEditar Montado‚Äù para alterar.");
    return;
  }

  const idx = selected.indexOf(key);
  if(idx>=0){
    selected.splice(idx,1);
    refreshPicksUI();
    calc();
    return;
  }
  if(selected.length>=LIMITE_ITENS){
    toast("Limite de 8 itens atingido.");
    return;
  }
  selected.push(key);
  refreshPicksUI();
  calc();
}

function refreshPicksUI(){
  const all = [
    ...CFG.itensDia.map(x=>`dia:${x}`),
    ...CFG.itensClassico.map(x=>`classico:${x}`)
  ];
  all.forEach(k=>{
    const el = document.getElementById(cssSafe(k));
    if(!el) return;
    const active = selected.includes(k);
    el.classList.toggle("active", active);
    const r = el.querySelector(".right");
    if(r) r.textContent = active ? "‚úì" : "+";
  });

  const names = selected.map(k=>k.split(":")[1]);
  document.getElementById("boxCardapio").value = names.length ? names.join(", ") : "";
  document.getElementById("limitTag").textContent = `${selected.length}/${LIMITE_ITENS}`;
  document.getElementById("miniLimit").textContent = `${selected.length}/${LIMITE_ITENS}`;
}

/* ===== MEATS ===== */
function meatChange(name, delta){
  addMeatQty[name] = clamp((addMeatQty[name]||0)+delta, 0, 20);
  const el = document.getElementById("m_"+cssSafe(name));
  if(el) el.textContent = addMeatQty[name];
  calc();
}

/* ===== PIX ===== */
function copyPix(){
  const key = CFG.pix;
  const input = document.getElementById("pixKey");
  input.select();
  input.setSelectionRange(0, 99999);
  navigator.clipboard.writeText(key).then(()=> toast("PIX copiado ‚úÖ"));
}

/* ===== CALC ===== */
function calc(){
  const entregaVal = Number(document.getElementById("selEntrega").value || 0);
  const bebidaVal = Number(document.getElementById("selBebida").value || 0);
  const talher = Number(document.getElementById("selTalher").value || 0);

  const subtotalDia = qty.dia * CFG.precoBase;
  const subtotalClassico = qty.classico * CFG.precoBase;
  const subtotalMontado = qty.montado * CFG.precoMontado;

  let meatsQty=0, meatsTotal=0;
  Object.keys(addMeatQty).forEach(k=>{
    meatsQty += addMeatQty[k];
    meatsTotal += addMeatQty[k] * CFG.precoAdd;
  });

  const total = subtotalDia + subtotalClassico + subtotalMontado + meatsTotal + bebidaVal + entregaVal;

  document.getElementById("total").textContent = moeda(total);
  document.getElementById("miniTotal").textContent = moeda(total);

  const liBox = document.getElementById("lineItems");
  liBox.innerHTML = "";
  const addLine = (label, value) => {
    const div = document.createElement("div");
    div.className="lineItem";
    div.innerHTML = `<div class="l">${label}</div><div class="r">${value}</div>`;
    liBox.appendChild(div);
  };

  if(qty.dia>0) addLine(`üçõ Marmitex do Dia x${qty.dia}`, moeda(subtotalDia));
  if(qty.classico>0) addLine(`ü•ò Marmitex Cl√°ssico x${qty.classico}`, moeda(subtotalClassico));
  if(qty.montado>0) addLine(`üß© Montado x${qty.montado}`, moeda(subtotalMontado));

  if(qty.montado>0) addLine(`‚úÖ Itens do Montado (${selected.length}/${LIMITE_ITENS})`, montadoConfirmado ? "CONFIRMADO" : "ABERTO");
  if(meatsQty>0) addLine(`ü•© Adicionais (x${meatsQty})`, moeda(meatsTotal));
  if(bebidaVal>0){
    const bebidaSel = document.getElementById("selBebida");
    addLine(`ü•§ Refrigerante`, moeda(bebidaVal));
  }
  if(entregaVal>0) addLine(`üöö Entrega`, moeda(entregaVal));
  if(entregaVal===0) addLine(`üöö Retirada`, `GR√ÅTIS`);
  if(talher===1) addLine(`üç¥ Talher`, `SIM`);

  if((qty.dia+qty.classico+qty.montado)===0) addLine(`Nenhum item selecionado`, `‚Äî`);
}

/* ===== WHATS ===== */
function enviarWhats(){
  const nome = document.getElementById("inpNome").value.trim();
  const fone = document.getElementById("inpFone").value.trim();
  const endereco = document.getElementById("inpEndereco").value.trim();
  const ref = document.getElementById("inpRef").value.trim();
  const pagamento = document.getElementById("selPagamento").value;
  const entregaVal = Number(document.getElementById("selEntrega").value || 0);
  const entregaTxt = entregaVal>0 ? `Entrega (taxa ${moeda(entregaVal)})` : "Retirada (gr√°tis)";
  const talher = Number(document.getElementById("selTalher").value || 0) ? "SIM" : "N√ÉO";
  const pedidoObs = document.getElementById("txtPedidoObs").value.trim();
  const montObs = document.getElementById("txtMontadoObs").value.trim();
  const totalTxt = document.getElementById("total").textContent;

  if(!fone || !endereco || !ref){
    toast("Preencha: telefone, endere√ßo e refer√™ncia.");
    go('#dados');
    return;
  }
  if((qty.dia+qty.classico+qty.montado)===0){
    toast("Selecione ao menos 1 marmita.");
    go('#marmitas');
    return;
  }
  if(qty.montado>0 && !montadoConfirmado){
    toast("Confirme o Montado antes de enviar (evita erro).");
    go('#montado');
    return;
  }

  let msg = "";
  msg += `üßæ *PEDIDO - ${CFG.name.toUpperCase()}*%0A`;
  msg += `üìç ${encodeURIComponent(CFG.address)}%0A`;
  msg += `‚è± Prazo m√©dio: ${encodeURIComponent(CFG.prazo)}%0A%0A`;

  if(nome) msg += `üë§ Nome: ${encodeURIComponent(nome)}%0A`;
  msg += `üìû Telefone: ${encodeURIComponent(fone)}%0A`;
  msg += `üöö ${encodeURIComponent(entregaTxt)}%0A`;
  msg += `üí≥ Pagamento: ${encodeURIComponent(pagamento)}%0A`;
  if(pagamento==="PIX") msg += `üí† PIX: ${encodeURIComponent(CFG.pix)}%0A`;
  msg += `üç¥ Talher: ${encodeURIComponent(talher)}%0A%0A`;

  msg += `*üç± Marmitas*%0A`;
  if(qty.dia>0) msg += `‚Ä¢ Dia x${qty.dia} ‚Äî ${encodeURIComponent(moeda(CFG.precoBase))}%0A`;
  if(qty.classico>0) msg += `‚Ä¢ Cl√°ssico x${qty.classico} ‚Äî ${encodeURIComponent(moeda(CFG.precoBase))}%0A`;
  if(qty.montado>0) msg += `‚Ä¢ Montado x${qty.montado} ‚Äî ${encodeURIComponent(moeda(CFG.precoMontado))}%0A`;

  if(qty.montado>0){
    const names = selected.map(k=>k.split(":")[1]);
    msg += `%0A*‚úÖ Itens do Montado (CONFIRMADO)*%0A`;
    msg += names.length ? (`‚Ä¢ ${encodeURIComponent(names.join(", "))}%0A`) : `‚Ä¢ (nenhum item)%0A`;
    if(montObs) msg += `üìù Obs Montado: ${encodeURIComponent(montObs)}%0A`;
  }

  const meatLines = [];
  Object.keys(addMeatQty).forEach(k=>{
    if(addMeatQty[k]>0) meatLines.push(`${k} x${addMeatQty[k]}`);
  });
  if(meatLines.length){
    msg += `%0A*ü•© Adicionais (+${encodeURIComponent(moeda(CFG.precoAdd))} cada)*%0A`;
    msg += `‚Ä¢ ${encodeURIComponent(meatLines.join(" | "))}%0A`;
  }

  const bebidaSel = document.getElementById("selBebida");
  const bebidaVal = Number(bebidaSel.value||0);
  if(bebidaVal>0){
    msg += `%0A*ü•§ Refrigerante*%0A`;
    msg += `‚Ä¢ ${encodeURIComponent(bebidaSel.selectedOptions[0].text)}%0A`;
  }

  if(pedidoObs) msg += `%0Aüìù Observa√ß√£o do pedido: ${encodeURIComponent(pedidoObs)}%0A`;

  msg += `%0Aüìç Endere√ßo: ${encodeURIComponent(endereco)}%0A`;
  msg += `üß≠ Refer√™ncia: ${encodeURIComponent(ref)}%0A%0A`;
  msg += `üí∞ *Total: ${encodeURIComponent(totalTxt)}*`;

  window.open(`https://wa.me/${CFG.whatsapp}?text=${msg}`, "_blank");
}

/* ===== RESET ===== */
function limparTudo(){
  qty.dia=0; qty.classico=0; qty.montado=0;
  document.getElementById("q_dia").textContent="0";
  document.getElementById("q_classico").textContent="0";
  document.getElementById("q_montado").textContent="0";

  selected=[];
  document.getElementById("txtMontadoObs").value="";
  montadoConfirmado=false;
  setMontadoState();

  Object.keys(addMeatQty).forEach(k=>{
    addMeatQty[k]=0;
    const el=document.getElementById("m_"+cssSafe(k));
    if(el) el.textContent="0";
  });

  document.getElementById("selBebida").selectedIndex=0;
  document.getElementById("selTalher").value="0";
  document.getElementById("selPagamento").value="PIX";
  document.getElementById("selEntrega").value="0";

  document.getElementById("inpNome").value="";
  document.getElementById("inpFone").value="";
  document.getElementById("inpEndereco").value="";
  document.getElementById("inpRef").value="";
  document.getElementById("txtPedidoObs").value="";

  refreshPicksUI();
  calc();
  go('#marmitas');
}

/* ===== INIT ===== */
function init(){
  updateStatus();

  renderPickList("list-dia", CFG.itensDia, "dia");
  renderPickList("list-classico", CFG.itensClassico, "classico");
  renderMeats();
  renderBebidas();

  document.getElementById("selBebida").addEventListener("change", calc);
  document.getElementById("selEntrega").addEventListener("change", calc);
  document.getElementById("selTalher").addEventListener("change", calc);

  setMontadoState();
  refreshPicksUI();
  calc();

  setTimeout(()=> document.getElementById("splash").classList.add("hide"), 900);
}
init();
</script>

</body>
</html>


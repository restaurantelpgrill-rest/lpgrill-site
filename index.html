<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LP Grill â€” CardÃ¡pio</title>
  <link rel="stylesheet" href="css/style.css" />

  <!-- Admin Gear Discreta (sÃ³ pro index) -->
  <style>
    .admin-gear{
      position: fixed;
      top: 8px;
      left: 8px;
      width: 22px;
      height: 22px;
      display: grid;
      place-items: center;
      text-decoration: none;
      border-radius: 999px;
      z-index: 9999;
      user-select: none;

      /* ultra discreta */
      font-size: 13px;
      line-height: 1;
      opacity: .12;
      background: transparent;
      color: rgba(0,0,0,.65);
      transition: opacity .2s ease, transform .2s ease, background .2s ease;
    }
    .admin-gear:hover{
      opacity: .95;
      transform: rotate(80deg) scale(1.06);
      background: rgba(0,0,0,.06);
    }
    .admin-gear:active{
      transform: rotate(120deg) scale(.98);
    }

    /* no celular fica ainda mais discreta */
    @media (max-width: 520px){
      .admin-gear{ opacity:.08; top:6px; left:6px; }
      .admin-gear:hover{ opacity:.55; }
    }
  </style>
</head>

<body class="app">

  <!-- âš™ Admin discreto (canto superior esquerdo) -->
  <a href="#" id="adminGear" class="admin-gear" aria-label="Admin" title="Admin">âš™</a>

  <header class="pagebar">
    <div class="page-title">
      <h1>LP Grill</h1>
      <p>Pedidos rÃ¡pidos â€¢ WhatsApp</p>
    </div>

    <!-- (removido o botÃ£o admin aqui do header para ficar discreto e nÃ£o chamar atenÃ§Ã£o) -->

    <button class="cart-btn" id="openCart" aria-label="Abrir carrinho">
      <span class="cart-ico">ğŸ›’</span><span class="cart-badge" id="cartCount">0</span>
    </button>
  </header>

  <div class="container subinfo" id="infoBar"></div>

  <main class="container">
    <div class="grid">
      <a class="tile" href="marmitas.html">
        <div class="tile-ico">ğŸ±</div><div class="tile-title">Marmitas</div>
        <div class="tile-sub">Pratos do dia â€¢ bem servidos</div>
      </a>

      <a class="tile" href="porcoes.html">
        <div class="tile-ico">ğŸŸ</div><div class="tile-title">PorÃ§Ãµes</div>
        <div class="tile-sub">Perfeito pra compartilhar</div>
      </a>

      <a class="tile" href="bebidas.html">
        <div class="tile-ico">ğŸ¥¤</div><div class="tile-title">Bebidas</div>
        <div class="tile-sub">Geladas â€¢ do jeito certo</div>
      </a>

      <a class="tile" href="sobremesas.html">
        <div class="tile-ico">ğŸ°</div><div class="tile-title">Sobremesas</div>
        <div class="tile-sub">Finalize com chave de ouro</div>
      </a>

      <a class="tile highlight" href="checkout.html">
        <div class="tile-ico">âœ…</div><div class="tile-title">Finalizar Pedido</div>
        <div class="tile-sub">Enviar no WhatsApp</div>
      </a>
    </div>

    <a class="wa-float" id="waFloat" href="#" aria-label="WhatsApp">
      <img src="img/whatsapp.png" alt="WhatsApp">
    </a>
  </main>

  <div class="sticky-cta" id="stickyCTA" hidden>
    <button class="cta" id="ctaOpenCart" type="button">
      <span>Ver carrinho</span><strong id="ctaTotal">R$ 0,00</strong>
    </button>
    <a class="cta primary" href="checkout.html">Finalizar</a>
  </div>

  <!-- Drawer do carrinho -->
  <aside class="drawer" id="cartDrawer" aria-hidden="true">
    <div class="drawer-backdrop" id="closeCartBackdrop"></div>
    <div class="drawer-panel" role="dialog" aria-modal="true" aria-label="Carrinho">
      <div class="drawer-head">
        <div><h3>Seu carrinho</h3><p class="muted">Itens + taxa (se entrega)</p></div>
        <button class="icon-btn" id="closeCart" aria-label="Fechar">âœ•</button>
      </div>

      <div class="drawer-body">
        <div class="delivery-toggle">
          <button class="dt-btn" id="modeEntrega" type="button">ğŸšš Entrega</button>
          <button class="dt-btn" id="modeRetirar" type="button">ğŸ¬ Retirar</button>
        </div>
        <div id="cartItems"></div>
      </div>

      <div class="drawer-foot">
        <div class="totals">
          <div class="row"><span>Subtotal</span><strong id="subTotal">R$ 0,00</strong></div>
          <div class="row"><span>Taxa</span><strong id="deliveryFee">R$ 0,00</strong></div>
          <div class="row total"><span>Total</span><strong id="grandTotal">R$ 0,00</strong></div>
          <div class="mini muted">â±ï¸ Tempo mÃ©dio: <span id="etaText">30â€“60 min</span></div>
        </div>
        <div class="drawer-actions">
          <button class="btn light" id="clearCart" type="button">Limpar</button>
          <a class="btn primary" href="checkout.html">Finalizar</a>
        </div>
      </div>
    </div>
  </aside>

  <!-- Script da engrenagem: abre admin com chave -->
  <script>
    (() => {
      const gear = document.getElementById("adminGear");
      if(!gear) return;

      gear.addEventListener("click", (e) => {
        e.preventDefault();

        // Se o admin jÃ¡ foi liberado antes (vocÃª salvou no admin.js), abre sem expor chave
        const ok = localStorage.getItem("LPGRILL_ADMIN_SECRET_OK_V1") === "1";
        if(ok){
          window.location.href = "admin.html";
          return;
        }

        // Primeira vez: abre com chave
        window.location.href = "admin.html?k=22550126";
      });
    })();
  </script>

  <!-- Scripts (uma vez sÃ³, na ordem certa) -->
  <script src="js/data.js"></script>
  <script src="js/cart.js"></script>
  <script src="js/app.js"></script>
  <script src="js/render.js"></script>

</body>
</html>
